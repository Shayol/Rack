<!DOCTYPE html>
<html>
  <head>
    <title>Codebreaker</title>
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <script src="/js/angular.min.js"></script>
    <script src="/js/app.js"></script>
  </head>
  <body ng-app="Racker" ng-controller="RackerController">
    <div id="container">

      <h1>Codebreaker game.</h1>
      <h2> Guess 4 numbers in range 1..6. You have one hint and ten chances.</h2>

        <form ng-submit=newGame() id="new_game" >
          <input type="submit" value="new game">
        </form>


        <div ng-show="gameProgressing">
          <form ng-submit=guess()>
            <input ng-model="update_guess" type="text" autofocus>
            <input type="submit" value="Guess!">
          </form>
        </div>

        <div ng-show="won">
          <p>You won!!! Enter your name to save results.</p>
          <form ng-submit=createUser()>
            <input ng-model="user" type="text" autofocus>
            <input type="submit" value="Submit">
          </form>
        </div>

        <div ng-show="lost">
          <p> You lost. Press button "New game" to play again.</p>
        </div>

      <div id="guess">
        <div ng-repeat="guess in guesses">
          <p>{{guess.code}}: {{guess.result}}</p>
       </div>
      </div>


      <div id="statistics">
        <h3>Statistics</h3>
          <div id="stat_data">
          <table>
            <% statistics.each do |line| %>
              <tr><td><%= line.keys[0] %></td><td><%= line.values[0] %></td></tr>
            <% end %>
          </table>
          </div>
      </div>

      <br>

      <a ng-click=getHint()>Use hint</a>
      <span>{{hint}}</span>

    <div class="clear"></div>
    </div>
  </body>
</html>